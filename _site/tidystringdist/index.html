<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>[New Package] {tidystringdist} - Colin FAY</title>




<meta name="description" content="Compute string distance the tidy way. A package built on top of the {stringdist} package.Why tidystringdistI’ve lately been playing with string distance for my blog post about Game of Thrones Characters. The {stringdist} package is dope, yet its I/O do not follow the tidy data philosophy. Something that demands some tweaking when you need to work with tidyverse tools. That’s one of the motives behind {tidystringdist}.Install tidystringdistFor now, the package is only on GitHub, but I plan on releasing it to the CRAN soon. As this blogpost might not be updated in time, you should check the GitHub page for more info about the CRAN release.Install from GitHubdevtools::install_github(&quot;ColinFay/tidystringdist&quot;)tidystringdist basic workflowSo, how does this work ?tidycombFirst, you need to create a tibble with the combinations of words you want to compare. You can do this with the tidy_comb and tidy_comb_all functions.  The first takes a base word and combine it with each elements of a list or a column of a data.frame.  The 2nd combines all the possible couples from a list or a column.  If you already have a data.frame with two columns with strings to compare, you can skip this part.library(tidystringdist)# All the possible combinations for A, B and C.tidy_comb_all(LETTERS[1:3])#&gt; # A tibble: 3 x 2#&gt;       V1     V2#&gt; * &lt;fctr&gt; &lt;fctr&gt;#&gt; 1      A      B#&gt; 2      A      C#&gt; 3      B      C# Combine &quot;Paris&quot; (the base) with the three first elements of `state.name`. tidy_comb(&quot;Paris&quot;, state.name[1:3])#&gt; # A tibble: 3 x 2#&gt;        V1     V2#&gt; *  &lt;fctr&gt; &lt;fctr&gt;#&gt; 1 Alabama  Paris#&gt; 2  Alaska  Paris#&gt; 3 Arizona  Paristidy_string_distOnce you’ve got this data.frame, you can use tidy_string_dist to compute string distance. This function takes a data.frame, the two columns containing the strings, and a stringdist method provided by the {stringdist} package.Note that if you’ve used the tidy_comb function to create you data.frame, you won’t need to set the column names.library(dplyr)data(starwars)tidy_comb_sw &lt;- tidy_comb_all(starwars, name)tidy_stringdist(tidy_comb_sw, method = &quot;jw&quot;)#&gt; # A tibble: 3,741 x 3#&gt;                V1                 V2 string_dist#&gt;  *         &lt;fctr&gt;             &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1 Luke Skywalker              C-3PO   1.0000000#&gt;  2 Luke Skywalker              R2-D2   1.0000000#&gt;  3 Luke Skywalker        Darth Vader   0.5752165#&gt;  4 Luke Skywalker        Leia Organa   0.5335498#&gt;  5 Luke Skywalker          Owen Lars   0.4624339#&gt;  6 Luke Skywalker Beru Whitesun lars   0.4656085#&gt;  7 Luke Skywalker              R5-D4   1.0000000#&gt;  8 Luke Skywalker  Biggs Darklighter   0.5728291#&gt;  9 Luke Skywalker     Obi-Wan Kenobi   0.6349206#&gt; 10 Luke Skywalker   Anakin Skywalker   0.2816558#&gt; # ... with 3,731 more rowsThe goal is to provide a convenient interface to work with other tools from the tidyverse.tidy_stringdist(tidy_comb_sw, method= &quot;lv&quot;) %&gt;%  filter(string_dist &gt; 0.80) %&gt;%  arrange(desc(string_dist))  #&gt; # A tibble: 3,741 x 3#&gt;                       V1                    V2 string_dist#&gt;                   &lt;fctr&gt;                &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1                 C-3PO Jabba Desilijic Tiure          21#&gt;  2                 C-3PO Wicket Systri Warrick          21#&gt;  3                 R2-D2 Wicket Systri Warrick          21#&gt;  4                 R5-D4 Wicket Systri Warrick          21#&gt;  5 Jabba Desilijic Tiure                 IG-88          21#&gt;  6 Jabba Desilijic Tiure                 Cordé          21#&gt;  7 Jabba Desilijic Tiure                R4-P17          21#&gt;  8 Jabba Desilijic Tiure                   BB8          21#&gt;  9                 IG-88 Wicket Systri Warrick          21#&gt; 10 Wicket Systri Warrick                R4-P17          21#&gt; # ... with 3,731 more rowsstarwars %&gt;%  filter(species == &quot;Droid&quot;) %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist()#&gt; # A tibble: 10 x 3#&gt;        V1     V2 string_dist#&gt;  * &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1  C-3PO  R2-D2           5#&gt;  2  C-3PO  R5-D4           5#&gt;  3  C-3PO  IG-88           5#&gt;  4  C-3PO    BB8           5#&gt;  5  R2-D2  R5-D4           2#&gt;  6  R2-D2  IG-88           4#&gt;  7  R2-D2    BB8           5#&gt;  8  R5-D4  IG-88           4#&gt;  9  R5-D4    BB8           5#&gt; 10  IG-88    BB8           4library(ggplot2)starwars %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist(method = &quot;jw&quot;) %&gt;%  ggplot(aes(&quot;&quot;, string_dist)) +  geom_boxplot() +  coord_flip()  ContactI’ll be glad to have some feedback about this package. Feel free to reach me out on Twitter! You can also send some PR or open an issue on the GitHub repo.To doFor an up-to-date to-do list about this package, please read the issue section on GitHub!">




<meta name="author" content="colin_fay">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="Colin FAY">
<meta property="og:title" content="[New Package] {tidystringdist}">


  <link rel="canonical" href="http://localhost:4000/tidystringdist/">
  <meta property="og:url" content="http://localhost:4000/tidystringdist/">



  <meta property="og:description" content="Compute string distance the tidy way. A package built on top of the {stringdist} package.Why tidystringdistI’ve lately been playing with string distance for my blog post about Game of Thrones Characters. The {stringdist} package is dope, yet its I/O do not follow the tidy data philosophy. Something that demands some tweaking when you need to work with tidyverse tools. That’s one of the motives behind {tidystringdist}.Install tidystringdistFor now, the package is only on GitHub, but I plan on releasing it to the CRAN soon. As this blogpost might not be updated in time, you should check the GitHub page for more info about the CRAN release.Install from GitHubdevtools::install_github(&quot;ColinFay/tidystringdist&quot;)tidystringdist basic workflowSo, how does this work ?tidycombFirst, you need to create a tibble with the combinations of words you want to compare. You can do this with the tidy_comb and tidy_comb_all functions.  The first takes a base word and combine it with each elements of a list or a column of a data.frame.  The 2nd combines all the possible couples from a list or a column.  If you already have a data.frame with two columns with strings to compare, you can skip this part.library(tidystringdist)# All the possible combinations for A, B and C.tidy_comb_all(LETTERS[1:3])#&gt; # A tibble: 3 x 2#&gt;       V1     V2#&gt; * &lt;fctr&gt; &lt;fctr&gt;#&gt; 1      A      B#&gt; 2      A      C#&gt; 3      B      C# Combine &quot;Paris&quot; (the base) with the three first elements of `state.name`. tidy_comb(&quot;Paris&quot;, state.name[1:3])#&gt; # A tibble: 3 x 2#&gt;        V1     V2#&gt; *  &lt;fctr&gt; &lt;fctr&gt;#&gt; 1 Alabama  Paris#&gt; 2  Alaska  Paris#&gt; 3 Arizona  Paristidy_string_distOnce you’ve got this data.frame, you can use tidy_string_dist to compute string distance. This function takes a data.frame, the two columns containing the strings, and a stringdist method provided by the {stringdist} package.Note that if you’ve used the tidy_comb function to create you data.frame, you won’t need to set the column names.library(dplyr)data(starwars)tidy_comb_sw &lt;- tidy_comb_all(starwars, name)tidy_stringdist(tidy_comb_sw, method = &quot;jw&quot;)#&gt; # A tibble: 3,741 x 3#&gt;                V1                 V2 string_dist#&gt;  *         &lt;fctr&gt;             &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1 Luke Skywalker              C-3PO   1.0000000#&gt;  2 Luke Skywalker              R2-D2   1.0000000#&gt;  3 Luke Skywalker        Darth Vader   0.5752165#&gt;  4 Luke Skywalker        Leia Organa   0.5335498#&gt;  5 Luke Skywalker          Owen Lars   0.4624339#&gt;  6 Luke Skywalker Beru Whitesun lars   0.4656085#&gt;  7 Luke Skywalker              R5-D4   1.0000000#&gt;  8 Luke Skywalker  Biggs Darklighter   0.5728291#&gt;  9 Luke Skywalker     Obi-Wan Kenobi   0.6349206#&gt; 10 Luke Skywalker   Anakin Skywalker   0.2816558#&gt; # ... with 3,731 more rowsThe goal is to provide a convenient interface to work with other tools from the tidyverse.tidy_stringdist(tidy_comb_sw, method= &quot;lv&quot;) %&gt;%  filter(string_dist &gt; 0.80) %&gt;%  arrange(desc(string_dist))  #&gt; # A tibble: 3,741 x 3#&gt;                       V1                    V2 string_dist#&gt;                   &lt;fctr&gt;                &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1                 C-3PO Jabba Desilijic Tiure          21#&gt;  2                 C-3PO Wicket Systri Warrick          21#&gt;  3                 R2-D2 Wicket Systri Warrick          21#&gt;  4                 R5-D4 Wicket Systri Warrick          21#&gt;  5 Jabba Desilijic Tiure                 IG-88          21#&gt;  6 Jabba Desilijic Tiure                 Cordé          21#&gt;  7 Jabba Desilijic Tiure                R4-P17          21#&gt;  8 Jabba Desilijic Tiure                   BB8          21#&gt;  9                 IG-88 Wicket Systri Warrick          21#&gt; 10 Wicket Systri Warrick                R4-P17          21#&gt; # ... with 3,731 more rowsstarwars %&gt;%  filter(species == &quot;Droid&quot;) %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist()#&gt; # A tibble: 10 x 3#&gt;        V1     V2 string_dist#&gt;  * &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1  C-3PO  R2-D2           5#&gt;  2  C-3PO  R5-D4           5#&gt;  3  C-3PO  IG-88           5#&gt;  4  C-3PO    BB8           5#&gt;  5  R2-D2  R5-D4           2#&gt;  6  R2-D2  IG-88           4#&gt;  7  R2-D2    BB8           5#&gt;  8  R5-D4  IG-88           4#&gt;  9  R5-D4    BB8           5#&gt; 10  IG-88    BB8           4library(ggplot2)starwars %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist(method = &quot;jw&quot;) %&gt;%  ggplot(aes(&quot;&quot;, string_dist)) +  geom_boxplot() +  coord_flip()  ContactI’ll be glad to have some feedback about this package. Feel free to reach me out on Twitter! You can also send some PR or open an issue on the GitHub repo.To doFor an up-to-date to-do list about this package, please read the issue section on GitHub!">



  <meta name="twitter:site" content="@_colinfay">
  <meta name="twitter:title" content="[New Package] {tidystringdist}">
  <meta name="twitter:description" content="Compute string distance the tidy way. A package built on top of the {stringdist} package.Why tidystringdistI’ve lately been playing with string distance for my blog post about Game of Thrones Characters. The {stringdist} package is dope, yet its I/O do not follow the tidy data philosophy. Something that demands some tweaking when you need to work with tidyverse tools. That’s one of the motives behind {tidystringdist}.Install tidystringdistFor now, the package is only on GitHub, but I plan on releasing it to the CRAN soon. As this blogpost might not be updated in time, you should check the GitHub page for more info about the CRAN release.Install from GitHubdevtools::install_github(&quot;ColinFay/tidystringdist&quot;)tidystringdist basic workflowSo, how does this work ?tidycombFirst, you need to create a tibble with the combinations of words you want to compare. You can do this with the tidy_comb and tidy_comb_all functions.  The first takes a base word and combine it with each elements of a list or a column of a data.frame.  The 2nd combines all the possible couples from a list or a column.  If you already have a data.frame with two columns with strings to compare, you can skip this part.library(tidystringdist)# All the possible combinations for A, B and C.tidy_comb_all(LETTERS[1:3])#&gt; # A tibble: 3 x 2#&gt;       V1     V2#&gt; * &lt;fctr&gt; &lt;fctr&gt;#&gt; 1      A      B#&gt; 2      A      C#&gt; 3      B      C# Combine &quot;Paris&quot; (the base) with the three first elements of `state.name`. tidy_comb(&quot;Paris&quot;, state.name[1:3])#&gt; # A tibble: 3 x 2#&gt;        V1     V2#&gt; *  &lt;fctr&gt; &lt;fctr&gt;#&gt; 1 Alabama  Paris#&gt; 2  Alaska  Paris#&gt; 3 Arizona  Paristidy_string_distOnce you’ve got this data.frame, you can use tidy_string_dist to compute string distance. This function takes a data.frame, the two columns containing the strings, and a stringdist method provided by the {stringdist} package.Note that if you’ve used the tidy_comb function to create you data.frame, you won’t need to set the column names.library(dplyr)data(starwars)tidy_comb_sw &lt;- tidy_comb_all(starwars, name)tidy_stringdist(tidy_comb_sw, method = &quot;jw&quot;)#&gt; # A tibble: 3,741 x 3#&gt;                V1                 V2 string_dist#&gt;  *         &lt;fctr&gt;             &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1 Luke Skywalker              C-3PO   1.0000000#&gt;  2 Luke Skywalker              R2-D2   1.0000000#&gt;  3 Luke Skywalker        Darth Vader   0.5752165#&gt;  4 Luke Skywalker        Leia Organa   0.5335498#&gt;  5 Luke Skywalker          Owen Lars   0.4624339#&gt;  6 Luke Skywalker Beru Whitesun lars   0.4656085#&gt;  7 Luke Skywalker              R5-D4   1.0000000#&gt;  8 Luke Skywalker  Biggs Darklighter   0.5728291#&gt;  9 Luke Skywalker     Obi-Wan Kenobi   0.6349206#&gt; 10 Luke Skywalker   Anakin Skywalker   0.2816558#&gt; # ... with 3,731 more rowsThe goal is to provide a convenient interface to work with other tools from the tidyverse.tidy_stringdist(tidy_comb_sw, method= &quot;lv&quot;) %&gt;%  filter(string_dist &gt; 0.80) %&gt;%  arrange(desc(string_dist))  #&gt; # A tibble: 3,741 x 3#&gt;                       V1                    V2 string_dist#&gt;                   &lt;fctr&gt;                &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1                 C-3PO Jabba Desilijic Tiure          21#&gt;  2                 C-3PO Wicket Systri Warrick          21#&gt;  3                 R2-D2 Wicket Systri Warrick          21#&gt;  4                 R5-D4 Wicket Systri Warrick          21#&gt;  5 Jabba Desilijic Tiure                 IG-88          21#&gt;  6 Jabba Desilijic Tiure                 Cordé          21#&gt;  7 Jabba Desilijic Tiure                R4-P17          21#&gt;  8 Jabba Desilijic Tiure                   BB8          21#&gt;  9                 IG-88 Wicket Systri Warrick          21#&gt; 10 Wicket Systri Warrick                R4-P17          21#&gt; # ... with 3,731 more rowsstarwars %&gt;%  filter(species == &quot;Droid&quot;) %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist()#&gt; # A tibble: 10 x 3#&gt;        V1     V2 string_dist#&gt;  * &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1  C-3PO  R2-D2           5#&gt;  2  C-3PO  R5-D4           5#&gt;  3  C-3PO  IG-88           5#&gt;  4  C-3PO    BB8           5#&gt;  5  R2-D2  R5-D4           2#&gt;  6  R2-D2  IG-88           4#&gt;  7  R2-D2    BB8           5#&gt;  8  R5-D4  IG-88           4#&gt;  9  R5-D4    BB8           5#&gt; 10  IG-88    BB8           4library(ggplot2)starwars %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist(method = &quot;jw&quot;) %&gt;%  ggplot(aes(&quot;&quot;, string_dist)) +  geom_boxplot() +  coord_flip()  ContactI’ll be glad to have some feedback about this package. Feel free to reach me out on Twitter! You can also send some PR or open an issue on the GitHub repo.To doFor an up-to-date to-do list about this package, please read the issue section on GitHub!">
  <meta name="twitter:url" content="http://localhost:4000/tidystringdist/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://raw.githubusercontent.com/ColinFay/colinfay.github.io/master/uploads/2017/08/colin_prev.png">
    
  

  
    <meta name="twitter:creator" content="@colin_fay">
  



  

  



  <meta property="og:image" content="https://raw.githubusercontent.com/ColinFay/colinfay.github.io/master/uploads/2017/08/colin_prev.png">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-09-11T00:00:00+02:00">






  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000",
      "logo": "https://raw.githubusercontent.com/ColinFay/colinfay.github.io/master/uploads/2017/08/colin_prev.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Colin FAY",
      "url" : "http://localhost:4000",
      "sameAs" : ["https://twitter.com/_ColinFay","https://www.linkedin.com/in/colinfay/"]
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Colin FAY Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">

<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/ColinFay/colinfay.github.io/master/favicon.png">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/">Colin FAY</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="https://colinfay.github.io/">Home</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://colinfay.github.io/about/">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://colinfay.github.io/talks-publications/">Talks & Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://colinfay.github.io/open-source/">Open Source</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://colinfay.me/categories/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://colinfay.me/r-manuals/">R manuals</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">[New Package] {tidystringdist}</li>
      
    
  </ol>
</nav>
  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="https://avatars1.githubusercontent.com/u/17936236?v=3&s=460" alt="Colin FAY" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Colin FAY</h3>
    
      <p class="author__bio" itemprop="description">
        Data Science & Social Media at ThinkR. Founder of Data Bzh and cofounder of the Breizh Data Club.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Rennes</span>
        </li>
      

      

      
        <li>
          <a href="mailto:contact@colinfay.me">
            <meta itemprop="email" content="contact@colinfay.me" />
            <i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/_colinfay" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/colinfay" itemprop="sameAs">
            <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/ColinFay" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
<li>
  <a href="http://www.thinkr.fr">
    <i class="fa fa-bookmark" aria-hidden="true"></i> ThinkR
  </a>
</li>
<li>
  <a href="http://data-bzh.fr">
    <i class="fa fa-map-marker" aria-hidden="true"></i> Data-Bzh
  </a>
</li>
<li>
  <a href="http://breizhdataclub.org/">
    <i class="fa fa-tag" aria-hidden="true"></i> Breizh Data Club
  </a>
</li>
<li>
  <a href="http://www.rweekly.org">
    <i class="fa fa-rss" aria-hidden="true"></i> RWeekly
  </a>
</li>

    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="[New Package] {tidystringdist}">
    <meta itemprop="description" content="Compute string distance the tidy way. A package built on top of the {stringdist} package.Why tidystringdistI’ve lately been playing with string distance for my blog post about Game of Thrones Characters. The {stringdist} package is dope, yet its I/O do not follow the tidy data philosophy. Something that demands some tweaking when you need to work with tidyverse tools. That’s one of the motives behind {tidystringdist}.Install tidystringdistFor now, the package is only on GitHub, but I plan on releasing it to the CRAN soon. As this blogpost might not be updated in time, you should check the GitHub page for more info about the CRAN release.Install from GitHubdevtools::install_github(&quot;ColinFay/tidystringdist&quot;)tidystringdist basic workflowSo, how does this work ?tidycombFirst, you need to create a tibble with the combinations of words you want to compare. You can do this with the tidy_comb and tidy_comb_all functions.  The first takes a base word and combine it with each elements of a list or a column of a data.frame.  The 2nd combines all the possible couples from a list or a column.  If you already have a data.frame with two columns with strings to compare, you can skip this part.library(tidystringdist)# All the possible combinations for A, B and C.tidy_comb_all(LETTERS[1:3])#&gt; # A tibble: 3 x 2#&gt;       V1     V2#&gt; * &lt;fctr&gt; &lt;fctr&gt;#&gt; 1      A      B#&gt; 2      A      C#&gt; 3      B      C# Combine &quot;Paris&quot; (the base) with the three first elements of `state.name`. tidy_comb(&quot;Paris&quot;, state.name[1:3])#&gt; # A tibble: 3 x 2#&gt;        V1     V2#&gt; *  &lt;fctr&gt; &lt;fctr&gt;#&gt; 1 Alabama  Paris#&gt; 2  Alaska  Paris#&gt; 3 Arizona  Paristidy_string_distOnce you’ve got this data.frame, you can use tidy_string_dist to compute string distance. This function takes a data.frame, the two columns containing the strings, and a stringdist method provided by the {stringdist} package.Note that if you’ve used the tidy_comb function to create you data.frame, you won’t need to set the column names.library(dplyr)data(starwars)tidy_comb_sw &lt;- tidy_comb_all(starwars, name)tidy_stringdist(tidy_comb_sw, method = &quot;jw&quot;)#&gt; # A tibble: 3,741 x 3#&gt;                V1                 V2 string_dist#&gt;  *         &lt;fctr&gt;             &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1 Luke Skywalker              C-3PO   1.0000000#&gt;  2 Luke Skywalker              R2-D2   1.0000000#&gt;  3 Luke Skywalker        Darth Vader   0.5752165#&gt;  4 Luke Skywalker        Leia Organa   0.5335498#&gt;  5 Luke Skywalker          Owen Lars   0.4624339#&gt;  6 Luke Skywalker Beru Whitesun lars   0.4656085#&gt;  7 Luke Skywalker              R5-D4   1.0000000#&gt;  8 Luke Skywalker  Biggs Darklighter   0.5728291#&gt;  9 Luke Skywalker     Obi-Wan Kenobi   0.6349206#&gt; 10 Luke Skywalker   Anakin Skywalker   0.2816558#&gt; # ... with 3,731 more rowsThe goal is to provide a convenient interface to work with other tools from the tidyverse.tidy_stringdist(tidy_comb_sw, method= &quot;lv&quot;) %&gt;%  filter(string_dist &gt; 0.80) %&gt;%  arrange(desc(string_dist))  #&gt; # A tibble: 3,741 x 3#&gt;                       V1                    V2 string_dist#&gt;                   &lt;fctr&gt;                &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1                 C-3PO Jabba Desilijic Tiure          21#&gt;  2                 C-3PO Wicket Systri Warrick          21#&gt;  3                 R2-D2 Wicket Systri Warrick          21#&gt;  4                 R5-D4 Wicket Systri Warrick          21#&gt;  5 Jabba Desilijic Tiure                 IG-88          21#&gt;  6 Jabba Desilijic Tiure                 Cordé          21#&gt;  7 Jabba Desilijic Tiure                R4-P17          21#&gt;  8 Jabba Desilijic Tiure                   BB8          21#&gt;  9                 IG-88 Wicket Systri Warrick          21#&gt; 10 Wicket Systri Warrick                R4-P17          21#&gt; # ... with 3,731 more rowsstarwars %&gt;%  filter(species == &quot;Droid&quot;) %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist()#&gt; # A tibble: 10 x 3#&gt;        V1     V2 string_dist#&gt;  * &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;#&gt;  1  C-3PO  R2-D2           5#&gt;  2  C-3PO  R5-D4           5#&gt;  3  C-3PO  IG-88           5#&gt;  4  C-3PO    BB8           5#&gt;  5  R2-D2  R5-D4           2#&gt;  6  R2-D2  IG-88           4#&gt;  7  R2-D2    BB8           5#&gt;  8  R5-D4  IG-88           4#&gt;  9  R5-D4    BB8           5#&gt; 10  IG-88    BB8           4library(ggplot2)starwars %&gt;%  tidy_comb_all(name) %&gt;%  tidy_stringdist(method = &quot;jw&quot;) %&gt;%  ggplot(aes(&quot;&quot;, string_dist)) +  geom_boxplot() +  coord_flip()  ContactI’ll be glad to have some feedback about this package. Feel free to reach me out on Twitter! You can also send some PR or open an issue on the GitHub repo.To doFor an up-to-date to-do list about this package, please read the issue section on GitHub!">
    <meta itemprop="datePublished" content="September 11, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">[New Package] {tidystringdist}
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>Compute string distance the tidy way. A package built on top of the {stringdist} package.</p>

<h2 id="why-tidystringdist">Why tidystringdist</h2>

<p>I’ve lately been playing with string distance for my blog post about <a href="http://colinfay.me/game-of-thrones-characters-r/">Game of Thrones Characters</a>. The {stringdist} package is dope, yet its I/O do not follow the <a href="http://vita.had.co.nz/papers/tidy-data.html">tidy data</a> philosophy. Something that demands some tweaking when you need to work with tidyverse tools. That’s one of the motives behind {tidystringdist}.</p>

<h2 id="install-tidystringdist">Install tidystringdist</h2>

<p>For now, the package is only on GitHub, but I plan on releasing it to the CRAN soon. As this blogpost might not be updated in time, you should check the GitHub page for more info about the CRAN release.</p>

<p>Install from GitHub</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">devtools</span><span class="o">::</span><span class="n">install_github</span><span class="p">(</span><span class="s2">"ColinFay/tidystringdist"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="tidystringdist-basic-workflow">tidystringdist basic workflow</h2>

<p>So, how does this work ?</p>

<h3 id="tidycomb">tidycomb</h3>

<p>First, you need to create a tibble with the combinations of words you want to compare. You can do this with the <code class="highlighter-rouge">tidy_comb</code> and <code class="highlighter-rouge">tidy_comb_all</code> functions.</p>

<ul>
  <li>The first takes a base word and combine it with each elements of a list or a column of a data.frame.</li>
  <li>The 2nd combines all the possible couples from a list or a column.</li>
</ul>

<blockquote>
  <p>If you already have a data.frame with two columns with strings to compare, you can skip this part.</p>
</blockquote>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidystringdist</span><span class="p">)</span><span class="w">

</span><span class="c1"># All the possible combinations for A, B and C.</span><span class="w">

</span><span class="n">tidy_comb_all</span><span class="p">(</span><span class="nb">LETTERS</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">])</span><span class="w">

</span><span class="c1">#&gt; # A tibble: 3 x 2</span><span class="w">
</span><span class="c1">#&gt;       V1     V2</span><span class="w">
</span><span class="c1">#&gt; * &lt;fctr&gt; &lt;fctr&gt;</span><span class="w">
</span><span class="c1">#&gt; 1      A      B</span><span class="w">
</span><span class="c1">#&gt; 2      A      C</span><span class="w">
</span><span class="c1">#&gt; 3      B      C</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Combine "Paris" (the base) with the three first elements of `state.name`. </span><span class="w">

</span><span class="n">tidy_comb</span><span class="p">(</span><span class="s2">"Paris"</span><span class="p">,</span><span class="w"> </span><span class="n">state.name</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">])</span><span class="w">

</span><span class="c1">#&gt; # A tibble: 3 x 2</span><span class="w">
</span><span class="c1">#&gt;        V1     V2</span><span class="w">
</span><span class="c1">#&gt; *  &lt;fctr&gt; &lt;fctr&gt;</span><span class="w">
</span><span class="c1">#&gt; 1 Alabama  Paris</span><span class="w">
</span><span class="c1">#&gt; 2  Alaska  Paris</span><span class="w">
</span><span class="c1">#&gt; 3 Arizona  Paris</span><span class="w">
</span></code></pre></div></div>

<h3 id="tidy_string_dist">tidy_string_dist</h3>

<p>Once you’ve got this data.frame, you can use <code class="highlighter-rouge">tidy_string_dist</code> to compute string distance. This function takes a data.frame, the two columns containing the strings, and a stringdist method provided by the {stringdist} package.</p>

<p>Note that if you’ve used the <code class="highlighter-rouge">tidy_comb</code> function to create you data.frame, you won’t need to set the column names.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">

</span><span class="n">data</span><span class="p">(</span><span class="n">starwars</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_comb_sw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tidy_comb_all</span><span class="p">(</span><span class="n">starwars</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w">

</span><span class="n">tidy_stringdist</span><span class="p">(</span><span class="n">tidy_comb_sw</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"jw"</span><span class="p">)</span><span class="w">

</span><span class="c1">#&gt; # A tibble: 3,741 x 3</span><span class="w">
</span><span class="c1">#&gt;                V1                 V2 string_dist</span><span class="w">
</span><span class="c1">#&gt;  *         &lt;fctr&gt;             &lt;fctr&gt;       &lt;dbl&gt;</span><span class="w">
</span><span class="c1">#&gt;  1 Luke Skywalker              C-3PO   1.0000000</span><span class="w">
</span><span class="c1">#&gt;  2 Luke Skywalker              R2-D2   1.0000000</span><span class="w">
</span><span class="c1">#&gt;  3 Luke Skywalker        Darth Vader   0.5752165</span><span class="w">
</span><span class="c1">#&gt;  4 Luke Skywalker        Leia Organa   0.5335498</span><span class="w">
</span><span class="c1">#&gt;  5 Luke Skywalker          Owen Lars   0.4624339</span><span class="w">
</span><span class="c1">#&gt;  6 Luke Skywalker Beru Whitesun lars   0.4656085</span><span class="w">
</span><span class="c1">#&gt;  7 Luke Skywalker              R5-D4   1.0000000</span><span class="w">
</span><span class="c1">#&gt;  8 Luke Skywalker  Biggs Darklighter   0.5728291</span><span class="w">
</span><span class="c1">#&gt;  9 Luke Skywalker     Obi-Wan Kenobi   0.6349206</span><span class="w">
</span><span class="c1">#&gt; 10 Luke Skywalker   Anakin Skywalker   0.2816558</span><span class="w">
</span><span class="c1">#&gt; # ... with 3,731 more rows</span><span class="w">
</span></code></pre></div></div>

<p>The goal is to provide a convenient interface to work with other tools from the tidyverse.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tidy_stringdist</span><span class="p">(</span><span class="n">tidy_comb_sw</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="o">=</span><span class="w"> </span><span class="s2">"lv"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">string_dist</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0.80</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">string_dist</span><span class="p">))</span><span class="w">
  
</span><span class="c1">#&gt; # A tibble: 3,741 x 3</span><span class="w">
</span><span class="c1">#&gt;                       V1                    V2 string_dist</span><span class="w">
</span><span class="c1">#&gt;                   &lt;fctr&gt;                &lt;fctr&gt;       &lt;dbl&gt;</span><span class="w">
</span><span class="c1">#&gt;  1                 C-3PO Jabba Desilijic Tiure          21</span><span class="w">
</span><span class="c1">#&gt;  2                 C-3PO Wicket Systri Warrick          21</span><span class="w">
</span><span class="c1">#&gt;  3                 R2-D2 Wicket Systri Warrick          21</span><span class="w">
</span><span class="c1">#&gt;  4                 R5-D4 Wicket Systri Warrick          21</span><span class="w">
</span><span class="c1">#&gt;  5 Jabba Desilijic Tiure                 IG-88          21</span><span class="w">
</span><span class="c1">#&gt;  6 Jabba Desilijic Tiure                 Cordé          21</span><span class="w">
</span><span class="c1">#&gt;  7 Jabba Desilijic Tiure                R4-P17          21</span><span class="w">
</span><span class="c1">#&gt;  8 Jabba Desilijic Tiure                   BB8          21</span><span class="w">
</span><span class="c1">#&gt;  9                 IG-88 Wicket Systri Warrick          21</span><span class="w">
</span><span class="c1">#&gt; 10 Wicket Systri Warrick                R4-P17          21</span><span class="w">
</span><span class="c1">#&gt; # ... with 3,731 more rows</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">starwars</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">species</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Droid"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tidy_comb_all</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tidy_stringdist</span><span class="p">()</span><span class="w">
</span><span class="c1">#&gt; # A tibble: 10 x 3</span><span class="w">
</span><span class="c1">#&gt;        V1     V2 string_dist</span><span class="w">
</span><span class="c1">#&gt;  * &lt;fctr&gt; &lt;fctr&gt;       &lt;dbl&gt;</span><span class="w">
</span><span class="c1">#&gt;  1  C-3PO  R2-D2           5</span><span class="w">
</span><span class="c1">#&gt;  2  C-3PO  R5-D4           5</span><span class="w">
</span><span class="c1">#&gt;  3  C-3PO  IG-88           5</span><span class="w">
</span><span class="c1">#&gt;  4  C-3PO    BB8           5</span><span class="w">
</span><span class="c1">#&gt;  5  R2-D2  R5-D4           2</span><span class="w">
</span><span class="c1">#&gt;  6  R2-D2  IG-88           4</span><span class="w">
</span><span class="c1">#&gt;  7  R2-D2    BB8           5</span><span class="w">
</span><span class="c1">#&gt;  8  R5-D4  IG-88           4</span><span class="w">
</span><span class="c1">#&gt;  9  R5-D4    BB8           5</span><span class="w">
</span><span class="c1">#&gt; 10  IG-88    BB8           4</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span><span class="n">starwars</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tidy_comb_all</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tidy_stringdist</span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"jw"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">string_dist</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_boxplot</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="w">
  
</span></code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/ColinFay/colinfay.github.io/master/uploads/2017/09/tidystringdist.png" alt="" /></p>

<h3 id="contact">Contact</h3>

<p>I’ll be glad to have some feedback about this package. Feel free to reach me out on <a href="http://www.twitter.com/_colinfay">Twitter</a>! You can also send some PR or open an issue on the <a href="https://github.com/ColinFay/tidystringdist">GitHub repo</a>.</p>

<h3 id="to-do">To do</h3>

<p>For an up-to-date to-do list about this package, please read the issue section on <a href="https://github.com/ColinFay/tidystringdist/issues">GitHub</a>!</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/categories/#r-blog-en" class="page__taxonomy-item" rel="tag">r-blog-en</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-09-11T00:00:00+02:00">September 11, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=_colinfay&text=[New Package] {tidystringdist} http://localhost:4000/tidystringdist/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/tidystringdist/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/tidystringdist/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/tidystringdist/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://localhost:4000/r6-parent-exposure/" class="pagination--pager" title="R6 and parent exposure
">Previous</a>
    
    
      <a href="http://localhost:4000/nantes-digital-week/" class="pagination--pager" title="De passage à la Nantes Digital Week
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
    <h4 class="page__comments-title">Leave a Comment</h4>
    <section id="disqus_thread"></section>
  
</div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/_colinfay"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/ColinFay"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Colin FAY. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65307055-3', 'auto');
  ga('send', 'pageview');
</script>







  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'http-colinfay-me';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






  </body>
</html>
